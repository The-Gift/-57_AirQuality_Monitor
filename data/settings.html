<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Air Quality Sensor - Settings</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <script src="./javascript.js"></script>
</head>

<body>
    <div class="container">
        <h1>Air Quality Sensor - Settings</h1>

        <div class="row justify-content-md-center">
            <div class="col-5">

                <h2>Settings</h2>
                <form id="settingsForm" style="margin-bottom: 30px;">
                    <h3>Device Type</h3>

                    <div class="mb-3">
                        <label class="form-label">Device Version</label>
                        <select class="form-select" name="deviceVersion" id="deviceVersion">
                            <option value="v1">V1</option>
                            <option value="v3">V3</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Device Name</label>
                        <input type="text" class="form-control" name="deviceName" id="deviceName">
                    </div>

                    <h3>Leds</h3>
                    <div class="mb-3">
                        <label class="form-label">Led Intensity</label>
                        <input type="number" class="form-control" name="ledIntensity" id="ledIntensity">
                    </div>

                    <h3>Network</h3>
                    <ul id="networkList">
                        <li>Scanning networks...</li>
                    </ul>

                    <div class="mb-3">
                        <label class="form-label">WIFI Password</label>
                        <input type="password" class="form-control" name="wifiPassword" id="wifiPassword">
                    </div>

                    <button type="button" class="btn btn-secondary btn-sm mb-3" id="btnRescan">Rescan wifi
                        networks</button>

                    <h3>MQTT</h3>

                    <div class="mb-3">
                        <label class="form-label">MQTT Host</label>
                        <input type="text" class="form-control" id="mqttHost" name="mqttHost">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">MQTT Username</label>
                        <input type="text" class="form-control" id="mqttUsername" name="mqttUsername">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">MQTT Password</label>
                        <input type="password" class="form-control" name="mqttPassword" id="mqttPassword">
                    </div>

                    <h3>Logs</h3>

                    <div class="mb-3">
                        <label class="form-label">Log Host</label>
                        <input type="text" class="form-control" id="logHost" name="logHost">
                        <div class="form-text">This should only be the ip or host and port,
                            192.168.1.10:5080</div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Log Username</label>
                        <input type="text" class="form-control" name="logUsername" id="logUsername">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Log Password</label>
                        <input type="password" class="form-control" name="logPassword" id="logPassword">
                    </div>
                    <div class="mb-3">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="true" name="logValues"
                                id="logValues">
                            <label class="form-check-label" for="flexCheckDefault">
                                Log sensor values
                            </label>
                        </div>
                    </div>

                    <button type="button" id="btnSave" class="btn btn-primary">Save Provisioning
                        Data</button>
                </form>
            </div>
        </div>

        <div class="row justify-content-md-center">
            <div class="col-5">
                <h2 class="mt-3">OTA</h2>

                <div class="progress" id="otaProgress" style="display: none;">
                    <div class="progress-bar" id="otaProgressBar" role="progressbar" style="width: 0%;">0%</div>
                </div>

                <form action="ota" method="post">
                    <div class="mb-3">
                        <label for="otaFile" class="form-label">OTA Upload Field</label>
                        <input class="form-control" type="file" name="file" id="otaFile">
                    </div>
                    <button type="button" class="btn btn-danger" id="btnOta">Update firmware</button>
                    <button type="button" class="btn btn-danger" id="btnResetOta">Reset to factory firmware (keep settings)</button>
                </form>
            </div>
        </div>

        <div class="row justify-content-md-center">
            <div class="col-5">
                <h2 class="mt-3">Maintenance</h2>
                <button type="button" id="btnCalibrate" class="btn btn-sm btn-secondary">Calibrate CO2 Sensor</button>
                <button type="button" id="btnReset" class="btn btn-sm btn-danger">Reset</button>
            </div>
        </div>

    </div>
</body>

</html>